# v0.5.0 Test Execution Log

**Date:** November 3, 2025  
**Server:** VideoAnnotator v1.3.0 (http://localhost:18011)  
**Client:** Video Annotation Viewer v0.5.0-dev (http://localhost:19011)  
**Tester:** AI Assistant + Human

---

## üéØ TEST OBJECTIVES

1. Verify full compatibility with VideoAnnotator v1.3.0
2. Test all v1.3.0-specific features
3. Confirm no regressions in existing functionality
4. Document any issues found

---

## ‚úÖ SETUP VERIFICATION

### Environment
- [x] VideoAnnotator v1.3.0 server running on port 18011
- [x] Client dev server running on port 19011
- [x] Browser open to http://localhost:19011/

### Pre-Test Checklist
- [ ] Clear localStorage to start fresh
- [ ] Verify server health endpoint: http://localhost:18011/health
- [ ] Check server has AUTH_REQUIRED enabled
- [ ] Have API token ready for testing

---

## üìã TEST EXECUTION

### Phase 1: Initial Connection & Setup

#### Test 1.1: Server Health Check
**Objective:** Verify server is accessible and v1.3.0

**Steps:**
1. Open browser to http://localhost:18011/health
2. Verify response shows version 1.3.0
3. Check all health indicators are positive

**Expected Result:**
```json
{
  "status": "healthy",
  "version": "1.3.0",
  ...
}
```

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 1.2: Client Initial Load
**Objective:** Verify client loads without errors

**Steps:**
1. Open browser to http://localhost:19011/
2. Check browser console for errors
3. Verify landing page displays

**Expected Result:**
- No console errors
- Landing page visible
- Navigation works

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 1.3: Token Setup Wizard
**Objective:** Test authentication flow with v1.3.0

**Steps:**
1. Navigate to Settings page
2. Open token setup wizard
3. Enter API token
4. Click "Validate Token"
5. Verify successful validation

**Expected Result:**
- Token validates successfully
- User info displayed (if available)
- Server version shown: 1.3.0
- Connection status: Connected

**Result:** [ ] PASS / [ ] FAIL  
**Token Used:**
**Notes:**

---

### Phase 2: Core Job Management

#### Test 2.1: Job List Fetch
**Objective:** Verify job list retrieval works

**Steps:**
1. Navigate to Create > Jobs page
2. Wait for jobs to load
3. Check for any jobs listed

**Expected Result:**
- Jobs load without error
- If jobs exist, they display correctly
- If no jobs, shows empty state

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 2.2: Job Creation
**Objective:** Create a new job with v1.3.0 server

**Steps:**
1. Navigate to Create > New Job
2. Select a test video file
3. Choose a pipeline (e.g., scene_detection)
4. Leave config as default or modify
5. Click "Submit Job"
6. Wait for job creation response

**Expected Result:**
- Job creates successfully
- Redirects to job detail page
- Job shows in job list
- Initial status is "pending" or "running"

**Result:** [ ] PASS / [ ] FAIL  
**Job ID:**
**Notes:**

---

#### Test 2.3: Job Detail View
**Objective:** Verify job detail page displays correctly

**Steps:**
1. Click on created job in list
2. Check job detail page loads
3. Verify all metadata displayed

**Expected Result:**
- Job ID shown
- Status displayed
- Pipeline name shown
- Video metadata present:
  - `video_filename`
  - `video_size_bytes`
  - `video_duration_seconds`
- Created timestamp
- Updated timestamp

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 2.4: Real-time Updates via SSE
**Objective:** Verify SSE connection and job updates

**Steps:**
1. While job is running, stay on job detail page
2. Watch for status updates
3. Check browser console for SSE messages
4. Verify status changes reflect in UI

**Expected Result:**
- SSE connection established
- Status updates automatically
- No need to refresh page
- Status transitions: pending ‚Üí running ‚Üí completed

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 2.5: Job Cancellation
**Objective:** Test v1.3.0 job cancellation feature

**Steps:**
1. Create a new job with a longer pipeline
2. While job is running, click "Cancel Job"
3. Confirm cancellation in dialog
4. Wait for cancellation to process

**Expected Result:**
- Cancel button appears for running jobs
- Confirmation dialog shown
- Job status changes to "cancelling" then "cancelled"
- Job stops processing
- Success toast notification

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 2.6: Job Deletion
**Objective:** Verify job deletion works

**Steps:**
1. Find a completed or failed job
2. Click "Delete Job"
3. Confirm deletion
4. Wait for deletion to complete

**Expected Result:**
- Delete button available for completed/failed/cancelled jobs
- Confirmation dialog shown
- Job removed from list
- Success toast notification

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

### Phase 3: Config Validation (v1.3.0 Feature)

#### Test 3.1: Pre-submission Validation
**Objective:** Test config validation before job submission

**Steps:**
1. Navigate to Create > New Job
2. Select a video
3. Choose a pipeline
4. Modify config to include invalid values
5. Wait for validation to run

**Expected Result:**
- Validation runs automatically (debounced)
- Validation errors displayed
- Field-level errors shown
- Cannot submit with invalid config

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 3.2: Valid Config Confirmation
**Objective:** Verify valid configs pass validation

**Steps:**
1. Start with invalid config
2. Fix the errors
3. Wait for revalidation
4. Check validation result

**Expected Result:**
- Validation re-runs on config change
- Shows "Valid configuration" message
- Submit button enabled
- No error messages

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

### Phase 4: System Health & Diagnostics (v1.3.0 Enhanced)

#### Test 4.1: Enhanced Health Endpoint
**Objective:** Verify enhanced health data from v1.3.0

**Steps:**
1. Navigate to Settings page
2. Scroll to Server Diagnostics section
3. Check displayed information

**Expected Result:**
- GPU information (if available)
- Worker status and count
- Active jobs count
- System diagnostics:
  - Database status
  - Storage status
  - FFmpeg status
- **NEW in v1.3.0:** Storage diagnostics
  - Storage directory path
  - Disk space info

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 4.2: Auto-refresh Behavior
**Objective:** Verify diagnostics auto-refresh

**Steps:**
1. Stay on Settings page
2. Wait 30 seconds
3. Check if data refreshes
4. Note "Last checked" timestamp

**Expected Result:**
- Data refreshes every 30 seconds
- "Last checked" timestamp updates
- No errors during refresh
- Stale indicator if refresh fails

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 4.3: Manual Refresh
**Objective:** Test manual refresh button

**Steps:**
1. Click "Refresh" button on diagnostics
2. Wait for refresh to complete
3. Verify data updates

**Expected Result:**
- Manual refresh triggers immediately
- Loading indicator shown
- Data updates after refresh
- Timestamp updates

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

### Phase 5: Error Handling

#### Test 5.1: v1.3.0 Error Envelope Format
**Objective:** Verify v1.3.0 standardized errors work

**Steps:**
1. Trigger a validation error (invalid config)
2. Check error message displayed
3. Look for hint field (if present)
4. Check error structure in console

**Expected Result:**
- Error displays with message
- If hint present, it's shown
- Error code shown (if available)
- User-friendly error display
- Error is copyable

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 5.2: Authentication Error (401)
**Objective:** Test auth error handling

**Steps:**
1. Clear localStorage (remove token)
2. Try to fetch jobs
3. Check error message

**Expected Result:**
- 401 error caught
- "Authentication Required" message shown
- Guidance to set up token
- Link to settings/token setup

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 5.3: Network Error
**Objective:** Test network error handling

**Steps:**
1. Stop the server temporarily
2. Try to create a job or fetch data
3. Check error message

**Expected Result:**
- Network error detected
- Connection error message shown
- Helpful guidance (check server running)
- 10-second timeout applied

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 5.4: CORS Error Detection
**Objective:** Verify CORS error guidance

**Steps:**
1. If possible, misconfigure CORS on server
2. Try to make a request
3. Check error message

**Expected Result:**
- CORS error detected
- Clear explanation shown
- Guidance on fixing CORS
- Link to configuration docs

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

### Phase 6: Video Metadata Display

#### Test 6.1: Video Filename Display
**Objective:** Verify video_filename field parsed correctly

**Steps:**
1. Create a job with a video
2. Check job card in list
3. Check job detail page

**Expected Result:**
- Video filename displayed (not full path)
- If `video_filename` missing, falls back to:
  - `filename` field
  - `video_name` field
  - Extracted from `video_path`

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 6.2: Video Size Display
**Objective:** Check video_size_bytes is shown

**Steps:**
1. Look at job with video
2. Find file size in UI

**Expected Result:**
- File size displayed somewhere in UI
- Raw bytes shown (formatting in Phase 4 quick wins)
- Falls back if `video_size_bytes` not present

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 6.3: Video Duration Display
**Objective:** Check video_duration_seconds is shown

**Steps:**
1. Look at job with video
2. Find duration in UI

**Expected Result:**
- Duration displayed somewhere in UI
- Raw seconds shown (formatting in Phase 4 quick wins)
- Falls back if `video_duration_seconds` not present

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

### Phase 7: Pipeline Catalog

#### Test 7.1: Pipeline List Fetch
**Objective:** Verify pipeline catalog works with v1.3.0

**Steps:**
1. Navigate to Create > New Job
2. Open pipeline selector
3. Check pipelines load

**Expected Result:**
- Pipelines load without error
- All available pipelines shown
- Pipeline metadata present:
  - Display name
  - Description
  - Version
  - Stability (if available)

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 7.2: Pipeline Metadata Display
**Objective:** Check pipeline metadata from v1.3.0

**Steps:**
1. Select different pipelines
2. Check metadata displayed for each

**Expected Result:**
- Pipeline name
- Version number
- Description
- **v1.3.0 fixed:** All pipelines have metadata
  - No missing speaker_diarization, etc.

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

### Phase 8: Regression Testing

#### Test 8.1: Annotation Viewer Still Works
**Objective:** Ensure main annotation viewer unchanged

**Steps:**
1. Navigate to home page
2. Load a demo video with annotations
3. Check video player works
4. Check annotations display

**Expected Result:**
- Video loads and plays
- Annotations overlay correctly
- Timeline works
- All annotation types display

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 8.2: File Upload Works
**Objective:** Video upload unchanged

**Steps:**
1. Try uploading a video file
2. Check file picker works
3. Verify file validation

**Expected Result:**
- File picker opens
- Video files accepted
- Invalid files rejected
- File size/format validated

**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

### Phase 9: Browser Compatibility

#### Test 9.1: Chrome
**Objective:** Full test in Chrome

**Browser:** Chrome (latest)  
**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 9.2: Firefox
**Objective:** Smoke test in Firefox

**Browser:** Firefox (latest)  
**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

#### Test 9.3: Edge
**Objective:** Smoke test in Edge

**Browser:** Edge (latest)  
**Result:** [ ] PASS / [ ] FAIL  
**Notes:**

---

## üêõ ISSUES FOUND

### Issue Log

| ID | Severity | Description | Steps to Reproduce | Workaround | Status |
|----|----------|-------------|-------------------|------------|--------|
|    |          |             |                   |            |        |

---

## üìä TEST SUMMARY

**Total Tests:** 24  
**Passed:** 0  
**Failed:** 0  
**Skipped:** 0  
**Blocked:** 0

**Coverage:**
- [ ] Core Features
- [ ] v1.3.0 Specific Features
- [ ] Error Handling
- [ ] Regression Tests
- [ ] Browser Compatibility

**Ready for Phase 2?** [ ] YES / [ ] NO

---

## üìù NOTES

### General Observations


### Performance Notes


### UX Observations


### Recommendations for Quick Wins


---

**Test Session Completed:** [Date/Time]  
**Duration:** [Time]  
**Tester Signature:** [Name]
